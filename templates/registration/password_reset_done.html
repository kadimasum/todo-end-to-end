{% extends 'base.html' %}

{% block title %}Password Reset Sent - TodoApp{% endblock %}

{% block extra_css %}
<style>
    .auth-container {
        min-height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem 0;
    }
    
    .auth-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: none;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        max-width: 500px;
        width: 100%;
        text-align: center;
    }
    
    .auth-header {
        background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        color: white;
        padding: 2rem;
        position: relative;
        overflow: hidden;
    }
    
    .auth-header::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(180deg); }
    }
    
    .success-icon {
        font-size: 4rem;
        margin-bottom: 1rem;
        animation: bounce 2s infinite;
    }
    
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-10px); }
        60% { transform: translateY(-5px); }
    }
    
    .auth-title {
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
        position: relative;
        z-index: 1;
    }
    
    .auth-subtitle {
        font-size: 1rem;
        opacity: 0.9;
        margin-top: 0.5rem;
        position: relative;
        z-index: 1;
    }
    
    .auth-body {
        padding: 2rem;
    }
    
    .success-message {
        background: #d4edda;
        color: #155724;
        padding: 1.5rem;
        border-radius: 10px;
        border: 1px solid #c3e6cb;
        margin-bottom: 2rem;
        font-size: 1rem;
        line-height: 1.6;
    }
    
    .info-box {
        background: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .info-box h5 {
        color: #495057;
        margin-bottom: 1rem;
        font-weight: 600;
    }
    
    .info-box ul {
        text-align: left;
        margin-bottom: 0;
        padding-left: 1.5rem;
    }
    
    .info-box li {
        margin-bottom: 0.5rem;
        color: #6c757d;
    }
    
    .btn-auth {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        border-radius: 10px;
        padding: 1rem 2rem;
        font-weight: 600;
        font-size: 1.1rem;
        color: white;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        text-decoration: none;
        display: inline-block;
    }
    
    .btn-auth:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        color: white;
        text-decoration: none;
    }
    
    .btn-auth:active {
        transform: translateY(0);
    }
    
    .btn-auth::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: left 0.5s;
    }
    
    .btn-auth:hover::before {
        left: 100%;
    }
    
    .auth-footer {
        text-align: center;
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 1px solid #e9ecef;
    }
    
    .auth-link {
        color: #667eea;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        position: relative;
    }
    
    .auth-link:hover {
        color: #764ba2;
        text-decoration: none;
    }
    
    .auth-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -2px;
        left: 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        transition: width 0.3s ease;
    }
    
    .auth-link:hover::after {
        width: 100%;
    }
    
    .floating-icons {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
    }
    
    .floating-icon {
        position: absolute;
        color: rgba(255, 255, 255, 0.1);
        font-size: 2rem;
        animation: floatIcon 8s ease-in-out infinite;
    }
    
    .floating-icon:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
    .floating-icon:nth-child(2) { top: 60%; right: 15%; animation-delay: 2s; }
    .floating-icon:nth-child(3) { bottom: 20%; left: 20%; animation-delay: 4s; }
    .floating-icon:nth-child(4) { top: 40%; right: 30%; animation-delay: 6s; }
    
    @keyframes floatIcon {
        0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.1; }
        50% { transform: translateY(-30px) rotate(180deg); opacity: 0.3; }
    }
    
    .countdown {
        font-size: 1.2rem;
        font-weight: 600;
        color: #667eea;
        margin-top: 1rem;
    }
    
    @media (max-width: 768px) {
        .auth-container {
            padding: 1rem;
        }
        
        .auth-body {
            padding: 1.5rem;
        }
        
        .auth-title {
            font-size: 1.5rem;
        }
        
        .success-icon {
            font-size: 3rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8">
                <div class="auth-card">
                    <div class="auth-header">
                        <div class="floating-icons">
                            <i class="fas fa-envelope floating-icon"></i>
                            <i class="fas fa-paper-plane floating-icon"></i>
                            <i class="fas fa-check-circle floating-icon"></i>
                            <i class="fas fa-shield-alt floating-icon"></i>
                        </div>
                        <div class="success-icon">
                            <i class="fas fa-paper-plane"></i>
                        </div>
                        <h1 class="auth-title">Check Your Email</h1>
                        <p class="auth-subtitle">Password reset link sent successfully</p>
                    </div>
                    
                    <div class="auth-body">
                        <div class="success-message">
                            <i class="fas fa-check-circle me-2"></i>
                            We've sent you a password reset link to your email address. Please check your inbox and follow the instructions to reset your password.
                        </div>
                        
                        <div class="info-box">
                            <h5><i class="fas fa-info-circle me-2"></i>What to do next:</h5>
                            <ul>
                                <li>Check your email inbox (and spam folder)</li>
                                <li>Click the password reset link in the email</li>
                                <li>Create a new secure password</li>
                                <li>Sign in with your new password</li>
                            </ul>
                        </div>
                        
                        <div class="countdown" id="countdown">
                            You can request another reset link in <span id="timer">60</span> seconds
                        </div>
                        
                        <div class="d-grid gap-2">
                            <a href="{% url 'login' %}" class="btn btn-auth">
                                <i class="fas fa-sign-in-alt me-2"></i>Back to Sign In
                            </a>
                            
                            <a href="{% url 'password_reset' %}" class="btn btn-outline-primary" id="resendBtn" style="display: none;">
                                <i class="fas fa-redo me-2"></i>Resend Reset Link
                            </a>
                        </div>
                        
                        <div class="auth-footer">
                            <p class="text-muted mb-0">
                                Didn't receive the email? 
                                <a href="{% url 'password_reset' %}" class="auth-link" id="resendLink" style="display: none;">Try again</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Countdown timer
    let timeLeft = 60;
    const timerElement = document.getElementById('timer');
    const resendBtn = document.getElementById('resendBtn');
    const resendLink = document.getElementById('resendLink');
    const countdownDiv = document.getElementById('countdown');
    
    const countdown = setInterval(() => {
        timeLeft--;
        timerElement.textContent = timeLeft;
        
        if (timeLeft <= 0) {
            clearInterval(countdown);
            countdownDiv.style.display = 'none';
            resendBtn.style.display = 'block';
            resendLink.style.display = 'inline';
        }
    }, 1000);
    
    // Add floating animation to the auth card
    const authCard = document.querySelector('.auth-card');
    if (authCard) {
        authCard.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        authCard.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    }
    
    // Add some interactive effects
    const successIcon = document.querySelector('.success-icon');
    if (successIcon) {
        successIcon.addEventListener('click', function() {
            this.style.animation = 'none';
            setTimeout(() => {
                this.style.animation = 'bounce 2s infinite';
            }, 10);
        });
    }
});
</script>
{% endblock %}
